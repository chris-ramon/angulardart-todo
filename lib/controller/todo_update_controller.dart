library todo_edit_controller;import 'package:angular/angular.dart';import 'package:angulartdart_todo/model/item.dart';import 'package:angulartdart_todo/model/message.dart';import 'package:angular/routing/module.dart';import 'package:angulartdart_todo/service/query_service.dart';import 'package:angulartdart_todo/service/flash_message_service.dart';@NgController(  selector: '[update-controller]',  publishAs: 'ctrl')class TodoUpdateController {  Item todo;  RouteProvider _routeProvider;  QueryService _queryService;  FlashMessageService flashMessageService;  TodoUpdateController(RouteProvider this._routeProvider,                       QueryService this._queryService,                       FlashMessageService this.flashMessageService) {    var todoId = _routeProvider.parameters['todoId'];    todo = _queryService.getById(todoId);  }  save() {    var text = flashMessageService      .UPDATE_MESSAGE      .replaceAll(new RegExp(r'{newItem.text}'), todo.text);    var message = new Message(text);    flashMessageService.addMessage(message);  }}